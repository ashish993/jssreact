{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar sitecore_jss_1 = require(\"@sitecore-jss/sitecore-jss\");\n\nvar ResponseError =\n/** @class */\nfunction (_super) {\n  __extends(ResponseError, _super);\n\n  function ResponseError(message, response) {\n    var _this = _super.call(this, message) || this;\n\n    Object.setPrototypeOf(_this, ResponseError.prototype);\n    _this.response = response;\n    return _this;\n  }\n\n  return ResponseError;\n}(Error);\n/**\n * @param {HttpResponse<unknown>} response\n */\n\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  var error = new ResponseError(response.statusText, response);\n  throw error;\n}\n/**\n * note: encodeURIComponent is available via browser (window) or natively in node.js\n * if you use another js engine for server-side rendering you may not have native encodeURIComponent\n * and would then need to install a package for that functionality\n * @param {Object} params\n */\n\n\nfunction getQueryString(params) {\n  return Object.keys(params).map(function (k) {\n    return encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]);\n  }).join('&');\n}\n/**\n * Note: axios needs to use `withCredentials: true` in order for Sitecore cookies to be included in CORS requests\n * which is necessary for analytics and such\n * @param {string} url\n * @param {any} data\n * @param {HttpJsonFetcher<T>} fetcher\n * @param {Object} params\n */\n\n\nfunction fetchData(url, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ndata, fetcher, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nparams) {\n  if (params === void 0) {\n    params = {};\n  }\n\n  var qs = getQueryString(params);\n  var fetchUrl = url.indexOf('?') !== -1 ? url + \"&\" + qs : url + \"?\" + qs;\n  return fetcher(fetchUrl, data).then(checkStatus).then(function (response) {\n    // axios auto-parses JSON responses, don't need to JSON.parse\n    return response.data;\n  });\n}\n/**\n * @param {TrackingRequestOptions} options\n */\n\n\nfunction resolveTrackingUrl(options) {\n  var _a = options.host,\n      host = _a === void 0 ? '' : _a,\n      _b = options.serviceUrl,\n      serviceUrl = _b === void 0 ? '/sitecore/api/jss/track' : _b,\n      _c = options.action,\n      action = _c === void 0 ? 'event' : _c;\n  return \"\" + host + serviceUrl + \"/\" + action;\n}\n/**\n * Makes a request to Sitecore Layout Service for the specified route item path.\n * @param {Array<EventInstance | GoalInstance | OutcomeInstance | CampaignInstance | PageViewInstance>} events\n * @param {TrackingRequestOptions} options\n * @returns {Promise<void>} void\n */\n\n\nfunction trackEvent(events, options) {\n  var querystringParams = options.querystringParams;\n\n  if (!options.test && sitecore_jss_1.isServer()) {\n    // do nothing for SSR, only track events when a browser requests it\n    return Promise.resolve();\n  }\n\n  if (!Array.isArray(events)) {\n    events = [events];\n  }\n\n  var fetchUrl = resolveTrackingUrl(options);\n  return fetchData(fetchUrl, events, options.fetcher, querystringParams);\n}\n\nexports.trackEvent = trackEvent;","map":{"version":3,"sources":["C:/Users/asha/Documents/ASHA/sitecorejss/test/my-react-jss-app/node_modules/@sitecore-jss/sitecore-jss-tracking/dist/trackingApi.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","sitecore_jss_1","require","ResponseError","_super","message","response","_this","call","Error","checkStatus","status","error","statusText","getQueryString","params","keys","map","k","encodeURIComponent","join","fetchData","url","data","fetcher","qs","fetchUrl","indexOf","then","resolveTrackingUrl","options","_a","host","_b","serviceUrl","_c","action","trackEvent","events","querystringParams","test","isServer","Promise","resolve","isArray"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sitecore_jss_1 = require(\"@sitecore-jss/sitecore-jss\");\nvar ResponseError = /** @class */ (function (_super) {\n    __extends(ResponseError, _super);\n    function ResponseError(message, response) {\n        var _this = _super.call(this, message) || this;\n        Object.setPrototypeOf(_this, ResponseError.prototype);\n        _this.response = response;\n        return _this;\n    }\n    return ResponseError;\n}(Error));\n/**\n * @param {HttpResponse<unknown>} response\n */\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    }\n    var error = new ResponseError(response.statusText, response);\n    throw error;\n}\n/**\n * note: encodeURIComponent is available via browser (window) or natively in node.js\n * if you use another js engine for server-side rendering you may not have native encodeURIComponent\n * and would then need to install a package for that functionality\n * @param {Object} params\n */\nfunction getQueryString(params) {\n    return Object.keys(params)\n        .map(function (k) { return encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k]); })\n        .join('&');\n}\n/**\n * Note: axios needs to use `withCredentials: true` in order for Sitecore cookies to be included in CORS requests\n * which is necessary for analytics and such\n * @param {string} url\n * @param {any} data\n * @param {HttpJsonFetcher<T>} fetcher\n * @param {Object} params\n */\nfunction fetchData(url, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndata, fetcher, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nparams) {\n    if (params === void 0) { params = {}; }\n    var qs = getQueryString(params);\n    var fetchUrl = url.indexOf('?') !== -1 ? url + \"&\" + qs : url + \"?\" + qs;\n    return fetcher(fetchUrl, data)\n        .then(checkStatus)\n        .then(function (response) {\n        // axios auto-parses JSON responses, don't need to JSON.parse\n        return response.data;\n    });\n}\n/**\n * @param {TrackingRequestOptions} options\n */\nfunction resolveTrackingUrl(options) {\n    var _a = options.host, host = _a === void 0 ? '' : _a, _b = options.serviceUrl, serviceUrl = _b === void 0 ? '/sitecore/api/jss/track' : _b, _c = options.action, action = _c === void 0 ? 'event' : _c;\n    return \"\" + host + serviceUrl + \"/\" + action;\n}\n/**\n * Makes a request to Sitecore Layout Service for the specified route item path.\n * @param {Array<EventInstance | GoalInstance | OutcomeInstance | CampaignInstance | PageViewInstance>} events\n * @param {TrackingRequestOptions} options\n * @returns {Promise<void>} void\n */\nfunction trackEvent(events, options) {\n    var querystringParams = options.querystringParams;\n    if (!options.test && sitecore_jss_1.isServer()) {\n        // do nothing for SSR, only track events when a browser requests it\n        return Promise.resolve();\n    }\n    if (!Array.isArray(events)) {\n        events = [events];\n    }\n    var fetchUrl = resolveTrackingUrl(options);\n    return fetchData(fetchUrl, events, options.fetcher, querystringParams);\n}\nexports.trackEvent = trackEvent;\n"]},"metadata":{},"sourceType":"script"}