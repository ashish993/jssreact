{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nvar defaults = {\n  loadPath: '/locales/{{lng}}/{{ns}}.json',\n  addPath: '/locales/add/{{lng}}/{{ns}}',\n  multiSeparator: '+',\n  allowMultiLoading: false,\n  parse: JSON.parse,\n  stringify: JSON.stringify,\n  fetch: fetch,\n  requestOptions: {}\n};\n\nvar arrify = function arrify(val) {\n  return Array.isArray(val) ? val : [val];\n};\n\nvar normalize = function normalize(funcOrVal) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof funcOrVal === 'function' ? funcOrVal.apply(void 0, args) : funcOrVal;\n};\n\nvar BackendError = /*#__PURE__*/function (_Error) {\n  _inherits(BackendError, _Error);\n\n  function BackendError(message) {\n    var _this;\n\n    var retry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, BackendError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BackendError).call(this, message));\n\n    _defineProperty(_assertThisInitialized(_this), \"retry\", null);\n\n    _this.retry = retry;\n    return _this;\n  }\n\n  return BackendError;\n}(_wrapNativeSuper(Error));\n\nvar Backend = /*#__PURE__*/function () {\n  function Backend(services, options) {\n    _classCallCheck(this, Backend);\n\n    _defineProperty(this, \"type\", 'backend');\n\n    this.init(services, options);\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.services = services;\n      this.options = _objectSpread({}, defaults, this.options, options);\n    }\n  }, {\n    key: \"getLoadPath\",\n    value: function getLoadPath(languages, namespaces) {\n      return normalize(this.options.loadPath, languages, namespaces);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      var loadPath = this.getLoadPath(language, namespace);\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: language,\n        ns: namespace\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.getLoadPath(languages, namespaces);\n      var multiSeparator = this.options.multiSeparator;\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: languages.join(multiSeparator),\n        ns: namespaces.join(multiSeparator)\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback) {\n      var _this$options = this.options,\n          fetch = _this$options.fetch,\n          requestOptions = _this$options.requestOptions,\n          parse = _this$options.parse;\n      fetch(url, requestOptions).then(function (response) {\n        var ok = response.ok,\n            status = response.status;\n\n        if (!ok) {\n          var retry = status >= 500 && status < 600; // don't retry for 4xx codes\n\n          throw new BackendError(\"failed loading \".concat(url), retry);\n        }\n\n        return response.text();\n      }, function () {\n        throw new BackendError(\"failed loading \".concat(url));\n      }).then(function (data) {\n        try {\n          return callback(null, parse(data, url));\n        } catch (e) {\n          throw new BackendError(\"failed parsing \".concat(url, \" to json\"), false);\n        }\n      }).catch(function (e) {\n        if (e instanceof BackendError) {\n          callback(e.message, e.retry);\n        }\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      var payload = _defineProperty({}, key, fallbackValue || '');\n\n      arrify(languages).forEach(function (lng) {\n        var _this2$options = _this2.options,\n            addPath = _this2$options.addPath,\n            requestOptions = _this2$options.requestOptions,\n            fetch = _this2$options.fetch,\n            stringify = _this2$options.stringify;\n\n        var url = _this2.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        try {\n          fetch(url, _objectSpread({\n            method: 'POST',\n            body: stringify(payload)\n          }, requestOptions));\n        } catch (ex) {\n          console.error(ex);\n        }\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\n_defineProperty(Backend, \"type\", 'backend');\n\nexport default Backend;","map":{"version":3,"sources":["C:/Users/asha/Documents/ASHA/sitecorejss/test/my-react-jss-app/node_modules/i18next-fetch-backend/dist/i18next-fetch-backend.esm.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","_objectSpread","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_construct","Parent","args","Class","a","push","apply","Function","bind","_isNativeFunction","fn","indexOf","_wrapNativeSuper","_cache","Map","undefined","has","get","set","Wrapper","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","defaults","loadPath","addPath","multiSeparator","allowMultiLoading","parse","JSON","stringify","fetch","requestOptions","arrify","val","Array","isArray","normalize","funcOrVal","_len","_key","BackendError","_Error","message","_this","retry","Error","Backend","services","options","init","getLoadPath","languages","namespaces","read","language","namespace","callback","url","interpolator","interpolate","lng","ns","loadUrl","readMulti","join","_this$options","then","response","ok","status","text","data","catch","fallbackValue","_this2","payload","_this2$options","method","body","ex","console","error"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nvar defaults = {\n  loadPath: '/locales/{{lng}}/{{ns}}.json',\n  addPath: '/locales/add/{{lng}}/{{ns}}',\n  multiSeparator: '+',\n  allowMultiLoading: false,\n  parse: JSON.parse,\n  stringify: JSON.stringify,\n  fetch: fetch,\n  requestOptions: {}\n};\n\nvar arrify = function arrify(val) {\n  return Array.isArray(val) ? val : [val];\n};\n\nvar normalize = function normalize(funcOrVal) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof funcOrVal === 'function' ? funcOrVal.apply(void 0, args) : funcOrVal;\n};\n\nvar BackendError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(BackendError, _Error);\n\n  function BackendError(message) {\n    var _this;\n\n    var retry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, BackendError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BackendError).call(this, message));\n\n    _defineProperty(_assertThisInitialized(_this), \"retry\", null);\n\n    _this.retry = retry;\n    return _this;\n  }\n\n  return BackendError;\n}(_wrapNativeSuper(Error));\n\nvar Backend =\n/*#__PURE__*/\nfunction () {\n  function Backend(services, options) {\n    _classCallCheck(this, Backend);\n\n    _defineProperty(this, \"type\", 'backend');\n\n    this.init(services, options);\n  }\n\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.services = services;\n      this.options = _objectSpread({}, defaults, this.options, options);\n    }\n  }, {\n    key: \"getLoadPath\",\n    value: function getLoadPath(languages, namespaces) {\n      return normalize(this.options.loadPath, languages, namespaces);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      var loadPath = this.getLoadPath(language, namespace);\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: language,\n        ns: namespace\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.getLoadPath(languages, namespaces);\n      var multiSeparator = this.options.multiSeparator;\n      var url = this.services.interpolator.interpolate(loadPath, {\n        lng: languages.join(multiSeparator),\n        ns: namespaces.join(multiSeparator)\n      });\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback) {\n      var _this$options = this.options,\n          fetch = _this$options.fetch,\n          requestOptions = _this$options.requestOptions,\n          parse = _this$options.parse;\n      fetch(url, requestOptions).then(function (response) {\n        var ok = response.ok,\n            status = response.status;\n\n        if (!ok) {\n          var retry = status >= 500 && status < 600; // don't retry for 4xx codes\n\n          throw new BackendError(\"failed loading \".concat(url), retry);\n        }\n\n        return response.text();\n      }, function () {\n        throw new BackendError(\"failed loading \".concat(url));\n      }).then(function (data) {\n        try {\n          return callback(null, parse(data, url));\n        } catch (e) {\n          throw new BackendError(\"failed parsing \".concat(url, \" to json\"), false);\n        }\n      }).catch(function (e) {\n        if (e instanceof BackendError) {\n          callback(e.message, e.retry);\n        }\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      var payload = _defineProperty({}, key, fallbackValue || '');\n\n      arrify(languages).forEach(function (lng) {\n        var _this2$options = _this2.options,\n            addPath = _this2$options.addPath,\n            requestOptions = _this2$options.requestOptions,\n            fetch = _this2$options.fetch,\n            stringify = _this2$options.stringify;\n\n        var url = _this2.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n\n        try {\n          fetch(url, _objectSpread({\n            method: 'POST',\n            body: stringify(payload)\n          }, requestOptions));\n        } catch (ex) {\n          console.error(ex);\n        }\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\n_defineProperty(Backend, \"type\", 'backend');\n\nexport default Backend;\n"]},"metadata":{},"sourceType":"module"}